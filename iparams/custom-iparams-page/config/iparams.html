<!DOCTYPE html>
<html lang="en">

<head>
    <link rel="stylesheet" type="text/css" href="https://static.freshdev.io/fdk/2.0/assets/freshservice.css">
    <script src="https://static.freshdev.io/fdk/2.0/assets/fresh_client.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
    <script type="module" src="https://unpkg.com/@freshworks/crayons@v3/dist/crayons/crayons.esm.js"></script>
    <script nomodule src="https://unpkg.com/@freshworks/crayons@v3/dist/crayons/crayons.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/@freshworks/crayons@v3/css/crayons-min.css" />

    <link rel="stylesheet" type="text/css" href="./assets/iparams.css">
    <script src="./assets/iparams.js"></script>
    <style>
    </style>
    <script type="text/javascript">
        jQuery("#error_div").hide();
    </script>
    <script type="text/javascript">
        function getConfigs(configs) {
            jQuery("#error_div").hide();
            jQuery("#api_key").val(configs["api_key"]);
            jQuery("#domain_name").val(configs["domain_name"]);
            jQuery("#agent_name").val(configs["agent_name"]);
            jQuery("#agent_email").val(configs["agent_email"]);
            jQuery("#agency").val(configs["agency"]);
        }
    </script>
    <script type="text/javascript">
        function validate() {
            let isValid = true;
            var input = jQuery("#domain_name").val();
            if (input.trim() == "") {
                jQuery("#error_div").show();
                isValid = false;
            }
            else {
                jQuery("#error_div").hide();
            }
            return isValid;
        }
    </script>
    <script type="text/javascript">
        function postConfigs() {

            var api_key = jQuery("#api_key").val();
            var domain_name = jQuery("#domain_name").val();
            var agent_name = jQuery("#agent_name").val();
            var agent_email = jQuery("#agent_email").val();
            var agency = jQuery("#agency").val();
            return {
                __meta: {
                    secure: ["api_key"]
                },
                api_key,
                domain_name: domain_name,
                agent_name: agent_name,
                agent_email: agent_email,
                agency: agency
            }
        }
    </script>
</head>

<body>
    <fw-form id="fw-static-form">
        <fw-tabs>
            <fw-tab slot="tab" panel="credentials">Credentials</fw-tab>
            <fw-tab slot="tab" panel="agent-details">Secret agent details</fw-tab>

            <fw-tab-panel name="credentials">
                <fw-input type="text" name="domain_name" placeholder="Please enter your domain name" required
                    label="Domain Name" id="domain_name" clear-input></fw-input>
                <span id="error_div" class="error" style="display: none;">Please enter a valid domain.</span>
                <fw-input type="password" name="api_key" placeholder="Please enter your api_key" required
                    label="API Key" id="api_key" clear-input></fw-input>
                
            </fw-tab-panel>

            <fw-tab-panel name="agent-details">
                <fw-select id="agency" label="Agency" required="true" placeholder="Please select the agency"
                    hint-text="Select singluar option">
                    <fw-select-option value="1">S.H.I.E.L.D</fw-select-option>
                    <fw-select-option value="2">HYDRA</fw-select-option>
                </fw-select>

                <fw-input type="text" name="agent_name" placeholder="Please enter your name" required label="Agent name"
                    id="agent_name" clear-input></fw-input>

                <fw-input type="text" name="agent_email" placeholder="Please enter your email" required
                    label="Agent email" id="agent_email" clear-input></fw-input>
            </fw-tab-panel>

        </fw-tabs>
    </fw-form>

</body>

</html>